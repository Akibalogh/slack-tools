{% extends "base.html" %}

{% block title %}Employees - Customer Group Admin{% endblock %}

{% block content %}
<div style="margin-bottom: 20px;">
    <h2>Team Members</h2>
    <p style="color: #666; margin-top: 10px;">
        ‚ÑπÔ∏è This is a read-only view. Use command-line scripts to manage employees.
    </p>
</div>

<div class="card">
    <div style="margin-bottom: 20px; display: flex; gap: 10px;">
        <a href="/employees" class="btn {% if status_filter == 'all' %}btn-primary{% else %}btn-secondary{% endif %}">All</a>
        <a href="/employees?status=active" class="btn {% if status_filter == 'active' %}btn-primary{% else %}btn-secondary{% endif %}">Active</a>
        <a href="/employees?status=inactive" class="btn {% if status_filter == 'inactive' %}btn-primary{% else %}btn-secondary{% endif %}">Inactive</a>
        <a href="/employees?status=optional" class="btn {% if status_filter == 'optional' %}btn-primary{% else %}btn-secondary{% endif %}">Optional</a>
    </div>
    
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Slack</th>
                <th>Telegram</th>
                <th>Status</th>
                <th>Required In</th>
            </tr>
        </thead>
        <tbody>
            {% for employee in employees %}
            <tr>
                <td><strong>{{ employee.name }}</strong></td>
                <td>{{ employee.email or '-' }}</td>
                <td>
                    {% if employee.slack_username %}
                        {{ employee.name }}
                    {% else %}
                        -
                    {% endif %}
                </td>
                <td>
                    {% if employee.telegram_username %}
                        @{{ employee.telegram_username }}
                    {% else %}
                        -
                    {% endif %}
                </td>
                <td>
                    <span class="badge badge-{{ employee.status }}">
                        {% if employee.status == 'active' %}üü¢{% elif employee.status == 'inactive' %}üî¥{% else %}üü°{% endif %}
                        {{ employee.status }}
                    </span>
                </td>
                <td>
                    {% if employee.slack_required %}Slack{% endif %}
                    {% if employee.slack_required and employee.telegram_required %}, {% endif %}
                    {% if employee.telegram_required %}Telegram{% endif %}
                    {% if not employee.slack_required and not employee.telegram_required %}-{% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}

