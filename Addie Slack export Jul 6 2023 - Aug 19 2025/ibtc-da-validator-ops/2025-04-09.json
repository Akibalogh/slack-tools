[
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744194634.456939",
        "client_msg_id": "d604a056-6963-45e3-8560-77261ef7338f",
        "text": "After uploading a DAR to a participant node, how do I find out the `&lt;packageID&gt;` to be used in my subsequent requests?",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "reply_count": 12,
        "reply_users_count": 1,
        "latest_reply": "1744207068.112219",
        "reply_users": [
            "U088UV6MKFE"
        ],
        "replies": [
            {
                "user": "U088UV6MKFE",
                "ts": "1744194811.691449"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744194909.878899"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744194937.666399"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744199238.347479"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744199296.049279"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744199326.945749"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744199749.696109"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744199807.017399"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744206850.735319"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744206915.337859"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744207017.163329"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744207068.112219"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "HmBUz",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "After uploading a DAR to a participant node, how do I find out the `<packageID>` to be used in my subsequent requests?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744194811.691449",
        "client_msg_id": "06ac4c89-dedf-4b94-bc50-6f238c0a6ad3",
        "text": "ah sorry there is a GET, let me try",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "tFi6A",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ah sorry there is a GET, let me try"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744194909.878899",
        "client_msg_id": "e7191a95-6507-41f8-80d2-61b8b4ae0a8e",
        "text": "oh this returns a big list, no idea which is mine, probably the last one?",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "QzSQR",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "oh this returns a big list, no idea which is mine, probably the last one?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744194937.666399",
        "client_msg_id": "6e6b2e00-e742-4dec-921d-2febf0f75386",
        "text": "would be cool if the POST `\/packages` would return the uploaded one's ID :slightly_smiling_face:",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "4HKuP",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "would be cool if the POST "
                            },
                            {
                                "type": "text",
                                "text": "\/packages",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " would return the uploaded one's ID "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744199238.347479",
        "edited": {
            "user": "U088UV6MKFE",
            "ts": "1744199646.000000"
        },
        "client_msg_id": "f081698a-2bde-4d39-a3f8-86ad085f1c7a",
        "text": "Trying with the `<#packageName>` is also not clear to me - the docs use the quickstart's template, and refer to it as `#model-tests`, but I can't find where this name is defined in the quickstart project.",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "olyjl",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Trying with the "
                            },
                            {
                                "type": "text",
                                "text": "<#packageName>",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " is also not clear to me - the docs use the quickstart's template, and refer to it as "
                            },
                            {
                                "type": "text",
                                "text": "#model-tests",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", but I can't find where this name is defined in the quickstart project."
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744199296.049279",
        "client_msg_id": "257a81e2-05fa-4244-8532-a087d18ec443",
        "text": "<@U9V802QQ6> :slightly_smiling_face:",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "9SyIF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U9V802QQ6"
                            },
                            {
                                "type": "text",
                                "text": " "
                            },
                            {
                                "type": "emoji",
                                "name": "slightly_smiling_face",
                                "unicode": "1f642"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744199326.945749",
        "client_msg_id": "5a91d910-97cb-4531-9fde-a4acb1463d76",
        "text": "so, how to find out the package\/template id\/name of a daml i just built",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "Sbml8",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "so, how to find out the package\/template id\/name of a daml i just built"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744199749.696109",
        "client_msg_id": "8221e9d8-73e3-4538-88cb-bb575db90704",
        "text": "ok I think I could find it using the template's name as the `packageName`",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "nkWxQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "ok I think I could find it using the template's name as the "
                            },
                            {
                                "type": "text",
                                "text": "packageName",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744199807.017399",
        "client_msg_id": "e6842ca8-bf0b-4bb0-9f56-477f34392830",
        "text": "(at least I am getting a new error) - still curious to find out the packageID!",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "fWyY+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "(at least I am getting a new error) - still curious to find out the packageID!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744206850.735319",
        "client_msg_id": "f4b03850-3646-403b-b823-fcb8bef1bdd0",
        "text": "Thanks for the responses.\n\nThe `name` in my yaml is snake-case, but the accepted packageName is PascalCase, same as the template's. Might investigate further later.\n\nI tried the `inspect-dar` route, very promising, but unf I again get \"TEMPLATES_OR_INTERFACES_NOT_FOUND\" with that id.\n\nPassing in the #PackageName is the only way so far I don't get this error, but instead:\n```{\n    \"code\": \"LEDGER_API_INTERNAL_ERROR\",\n    \"cause\": \"head of empty list\",\n    \"correlationId\": null,\n    \"traceId\": null,\n    \"context\": {\n        \"throwableO\": \"Some(null)\"\n    },\n    \"resources\": [],\n    \"errorCategory\": 4,\n    \"grpcCodeValue\": 13,\n    \"retryInfo\": null,\n    \"definiteAnswer\": false\n}```\n:upside_down_face:",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "L\/w+o",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks for the responses.\n\nThe "
                            },
                            {
                                "type": "text",
                                "text": "name",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " in my yaml is snake-case, but the accepted packageName is PascalCase, same as the template's. Might investigate further later.\n\nI tried the "
                            },
                            {
                                "type": "text",
                                "text": "inspect-dar",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " route, very promising, but unf I again get \"TEMPLATES_OR_INTERFACES_NOT_FOUND\" with that id.\n\nPassing in the #PackageName is the only way so far I don't get this error, but instead:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "{\n    \"code\": \"LEDGER_API_INTERNAL_ERROR\",\n    \"cause\": \"head of empty list\",\n    \"correlationId\": null,\n    \"traceId\": null,\n    \"context\": {\n        \"throwableO\": \"Some(null)\"\n    },\n    \"resources\": [],\n    \"errorCategory\": 4,\n    \"grpcCodeValue\": 13,\n    \"retryInfo\": null,\n    \"definiteAnswer\": false\n}"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "emoji",
                                "name": "upside_down_face",
                                "unicode": "1f643"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744206915.337859",
        "client_msg_id": "38515c6a-5162-4a13-bab0-a743ce7f2d81",
        "text": "I keep digging!",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "gnwt9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I keep digging!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744207017.163329",
        "client_msg_id": "fa047e31-755f-48be-b668-a07d94d80057",
        "text": "Also, interesting that I find the package-id in the list returned by the GET \/packages! So maybe I am missing something else",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "+Fxka",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Also, interesting that I find the package-id in the list returned by the GET \/packages! So maybe I am missing something else"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744207068.112219",
        "client_msg_id": "be837048-f1dd-4c9d-8d8d-3587ed8c3f3f",
        "text": "Let me write down my process in another thread",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744194634.456939",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "q+GM5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Let me write down my process in another thread"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744207399.339299",
        "client_msg_id": "a5f2cb5e-8820-4316-b6f5-49e24a8389a6",
        "text": "MVP experiments\nI created a very simple contract:\n```module Experiments.SimpleContract where\n\ntemplate SimpleContract\n  with\n    admin: Party\n  where\n   signatory admin\n\n   nonconsuming choice SimpleContract_Choice : Text\n     with\n       someText: Text\n     controller admin\n     do\n       -- This is a simple choice that just returns the argument passed to it.\n       pure someText```\nI build this daml, and upload it to my localnet Participant node. It returns 200 {} so I assume that is good.\nI generate a JWT for my alice::.. party, and send the following request:\n\n```{\n  \"actAs\": [\n    \"alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c\"\n  ],\n  \"userId\": \"app1\",\n  \"commandId\": \"someCommandId1\",\n  \"commands\": [\n    {\n      \"CreateCommand\": {\n        \"createArguments\": {\n          \"admin\": \"alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c\"\n        },\n        \"templateId\": \"#SimpleContract:Experiments:SimpleContract\"\n      }\n    }\n  ]\n}```\nThis request would return `\"code\": \"LEDGER_API_INTERNAL_ERROR\", \"cause\": \"head of empty list\",...`\nBut changing the `#SimpleContract` to anything else, returns `TEMPLATES_OR_INTERFACES_NOT_FOUND`",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744207399.339299",
        "reply_count": 16,
        "reply_users_count": 1,
        "latest_reply": "1744363291.897779",
        "reply_users": [
            "U088UV6MKFE"
        ],
        "replies": [
            {
                "user": "U088UV6MKFE",
                "ts": "1744207770.013149"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744207848.506209"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744208003.166619"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744208396.530329"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744208639.883139"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744208673.302939"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744208700.901159"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744209399.311889"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744209926.697539"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744209965.852089"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744271876.557679"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744361401.347969"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744361460.829509"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744361639.072569"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744362015.841649"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1744363291.897779"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NxsrZ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "MVP experiments\nI created a very simple contract:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "module Experiments.SimpleContract where\n\ntemplate SimpleContract\n  with\n    admin: Party\n  where\n   signatory admin\n\n   nonconsuming choice SimpleContract_Choice : Text\n     with\n       someText: Text\n     controller admin\n     do\n       -- This is a simple choice that just returns the argument passed to it.\n       pure someText"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I build this daml, and upload it to my localnet Participant node. It returns 200 {} so I assume that is good.\nI generate a JWT for my alice::.. party, and send the following request:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "{\n  \"actAs\": [\n    \"alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c\"\n  ],\n  \"userId\": \"app1\",\n  \"commandId\": \"someCommandId1\",\n  \"commands\": [\n    {\n      \"CreateCommand\": {\n        \"createArguments\": {\n          \"admin\": \"alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c\"\n        },\n        \"templateId\": \"#SimpleContract:Experiments:SimpleContract\"\n      }\n    }\n  ]\n}"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "This request would return "
                            },
                            {
                                "type": "text",
                                "text": "\"code\": \"LEDGER_API_INTERNAL_ERROR\", \"cause\": \"head of empty list\",...",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\nBut changing the "
                            },
                            {
                                "type": "text",
                                "text": "#SimpleContract",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to anything else, returns "
                            },
                            {
                                "type": "text",
                                "text": "TEMPLATES_OR_INTERFACES_NOT_FOUND",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744207770.013149",
        "client_msg_id": "215397c4-0b0f-4048-ae99-3e78ccfd8bf0",
        "text": "I think that solved it indeed, thank you!",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744207399.339299",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "zNbcu",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I think that solved it indeed, thank you!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744207848.506209",
        "client_msg_id": "ad4cb46e-fd25-442f-8490-c86ce9f632f7",
        "text": "encountering auth issues now, will report back after some digging",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744207399.339299",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "cQIgo",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "encountering auth issues now, will report back after some digging"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744208003.166619",
        "client_msg_id": "6c4f9a27-3c0f-4d3f-bb04-37596e867d1f",
        "text": "will do! i got a response once, but now sending this same request crashes the participant and it restarts",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744207399.339299",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "uppMo",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "will do! i got a response once, but now sending this same request crashes the participant and it restarts"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744208396.530329",
        "client_msg_id": "eabdd4f6-4d74-43d7-a29c-7bc9cf24f03c",
        "text": "Here are logs when it _does not_ crash (the crash might be resource related? Memory allocated for my docker engine is only 8G. I'll see if I can dig out logs from before the crashes):\n```2025-04-09 16:16:26 {\"@timestamp\":\"2025-04-09T14:16:26.271Z\",\"@version\":\"1\",\"message\":\"Request com.daml.ledger.api.v2.CommandService\/SubmitAndWaitForTransactionTree by \/[0:0:0:0:0:0:0:1]:43452: received a message \\n  Request tid:13c4737a9ada35b2420d4c464e7ec817\",\"logger_name\":\"c.d.c.n.g.ApiRequestLogger:participant=participant\",\"thread_name\":\"canton-env-ec-75\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:26 {\"@timestamp\":\"2025-04-09T14:16:26.288Z\",\"@version\":\"1\",\"message\":\"Registering handle for (someCommandId1,someId,Set(alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c),Some(5ff9b256-f7d2-4941-86b5-46f5c4173fb7))\",\"logger_name\":\"c.d.c.p.s.CommandProgressTrackerImpl:participant=participant\",\"thread_name\":\"canton-env-ec-97\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:26 {\"@timestamp\":\"2025-04-09T14:16:26.300Z\",\"@version\":\"1\",\"message\":\"Phase 1 started: Submitting commands for interpretation: Commands(\\n  commandId = someCommandId1,\\n  submissionId = 5ff9b256-f7d2-4941-86b5-46f5c4173fb7,\\n  applicationId = someId,\\n  actAs = alice::12204540ca41...,\\n  submittedAt = 2025-04-09T14:16:26.296050Z,\\n  ledgerEffectiveTime = 2025-04-09T14:16:26.296047Z,\\n  deduplicationPeriod = (duration=PT30S),\\n  ...\\n).\",\"logger_name\":\"c.d.c.p.a.s.c.CommandSubmissionServiceImpl:participant=participant\",\"thread_name\":\"canton-env-ec-97\",\"level\":\"INFO\",\"level_value\":20000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:26 {\"@timestamp\":\"2025-04-09T14:16:26.300Z\",\"@version\":\"1\",\"message\":\"Submitted commands are: 'create IBTC.SimpleContract:SimpleContract'\",\"logger_name\":\"c.d.c.p.a.s.c.CommandSubmissionServiceImpl:participant=participant\",\"thread_name\":\"canton-env-ec-97\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.003Z\",\"@version\":\"1\",\"message\":\"Received submit-transaction someCommandId1 from ledger-api server\",\"logger_name\":\"c.d.c.p.s.CantonSyncService:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.242Z\",\"@version\":\"1\",\"message\":\"Querying transactions as of 2025-04-09T14:13:34.570945Z for types Set(PartyToParticipant, DomainTrustCertificate) with filters for uids alice::12204540ca41...; op Replace\",\"logger_name\":\"c.d.c.t.s.d.DbTopologyStore:participant=participant\/domainId=global-domain::122043b259fa\",\"thread_name\":\"canton-env-ec-84\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.255Z\",\"@version\":\"1\",\"message\":\"Querying transactions as of 2025-04-09T14:13:34.570945Z for types Set(DomainParametersState) with filters for op Replace\",\"logger_name\":\"c.d.c.t.s.d.DbTopologyStore:participant=participant\/domainId=global-domain::122043b259fa\",\"thread_name\":\"canton-env-ec-97\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.261Z\",\"@version\":\"1\",\"message\":\"Querying transactions as of 2025-04-09T14:13:34.570945Z for types Set(DomainTrustCertificate, OwnerToKeyMapping, ParticipantDomainPermission) with filters for uids sv::12204540ca41...; op Replace\",\"logger_name\":\"c.d.c.t.s.d.DbTopologyStore:participant=participant\/domainId=global-domain::122043b259fa\",\"thread_name\":\"canton-env-ec-97\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.271Z\",\"@version\":\"1\",\"message\":\"Topology queried for the following domains: Set(global-domain::122043b259fa...)\",\"logger_name\":\"c.d.c.p.p.s.r.AdmissibleDomains:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.274Z\",\"@version\":\"1\",\"message\":\"Domains with all submitters: Set(global-domain::122043b259fa...)\",\"logger_name\":\"c.d.c.p.p.s.r.AdmissibleDomains:participant=participant\",\"thread_name\":\"canton-env-ec-84\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.274Z\",\"@version\":\"1\",\"message\":\"Domains with all informees: Set(global-domain::122043b259fa...)\",\"logger_name\":\"c.d.c.p.p.s.r.AdmissibleDomains:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.275Z\",\"@version\":\"1\",\"message\":\"Checking whether one domain in Set(global-domain::122043b259fa...) is suitable for submission\",\"logger_name\":\"c.d.c.p.p.s.r.AdmissibleDomains:participant=participant\",\"thread_name\":\"canton-env-ec-84\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.275Z\",\"@version\":\"1\",\"message\":\"Cannot use domain global-domain::122043b259fa...: Map(unknown submitters -&gt; Set(alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c), incorrect permissions -&gt; List())\",\"logger_name\":\"c.d.c.p.p.s.r.AdmissibleDomains:participant=participant\",\"thread_name\":\"canton-env-ec-84\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.278Z\",\"@version\":\"1\",\"message\":\"NO_DOMAIN_ON_WHICH_ALL_SUBMITTERS_CAN_SUBMIT(11,13c4737a): This participant cannot submit as the given submitter on any connected domain\",\"logger_name\":\"c.d.c.p.s.CantonSyncService:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"INFO\",\"level_value\":20000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\",\"location\":\"AdmissibleDomains.scala:212\",\"applicationId\":\"someId\",\"error-code\":\"NO_DOMAIN_ON_WHICH_ALL_SUBMITTERS_CAN_SUBMIT(11,13c4737a)\",\"commandId\":\"someCommandId1\",\"participant\":\"participant\",\"unknownSubmitter\":\"alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.333Z\",\"@version\":\"1\",\"message\":\"Rejected: Submission failed with error NO_DOMAIN_ON_WHICH_ALL_SUBMITTERS_CAN_SUBMIT(11,13c4737a): This participant cannot submit as the given submitter on any connected domain\",\"logger_name\":\"c.d.c.p.a.s.c.CommandSubmissionServiceImpl:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"INFO\",\"level_value\":20000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.344Z\",\"@version\":\"1\",\"message\":\"Request com.daml.ledger.api.v2.CommandService\/SubmitAndWaitForTransactionTree by \/[0:0:0:0:0:0:0:1]:43452: failed with NOT_FOUND\/NO_DOMAIN_ON_WHICH_ALL_SUBMITTERS_CAN_SUBMIT(11,13c4737a): This participant cannot submit as the given submitter on any connected domain\",\"logger_name\":\"c.d.c.n.g.ApiRequestLogger:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"INFO\",\"level_value\":20000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}```",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744207399.339299",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "R2W2O",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Here are logs when it "
                            },
                            {
                                "type": "text",
                                "text": "does not",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " crash (the crash might be resource related? Memory allocated for my docker engine is only 8G. I'll see if I can dig out logs from before the crashes):\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "2025-04-09 16:16:26 {\"@timestamp\":\"2025-04-09T14:16:26.271Z\",\"@version\":\"1\",\"message\":\"Request com.daml.ledger.api.v2.CommandService\/SubmitAndWaitForTransactionTree by \/[0:0:0:0:0:0:0:1]:43452: received a message \\n  Request tid:13c4737a9ada35b2420d4c464e7ec817\",\"logger_name\":\"c.d.c.n.g.ApiRequestLogger:participant=participant\",\"thread_name\":\"canton-env-ec-75\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:26 {\"@timestamp\":\"2025-04-09T14:16:26.288Z\",\"@version\":\"1\",\"message\":\"Registering handle for (someCommandId1,someId,Set(alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c),Some(5ff9b256-f7d2-4941-86b5-46f5c4173fb7))\",\"logger_name\":\"c.d.c.p.s.CommandProgressTrackerImpl:participant=participant\",\"thread_name\":\"canton-env-ec-97\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:26 {\"@timestamp\":\"2025-04-09T14:16:26.300Z\",\"@version\":\"1\",\"message\":\"Phase 1 started: Submitting commands for interpretation: Commands(\\n  commandId = someCommandId1,\\n  submissionId = 5ff9b256-f7d2-4941-86b5-46f5c4173fb7,\\n  applicationId = someId,\\n  actAs = alice::12204540ca41...,\\n  submittedAt = 2025-04-09T14:16:26.296050Z,\\n  ledgerEffectiveTime = 2025-04-09T14:16:26.296047Z,\\n  deduplicationPeriod = (duration=PT30S),\\n  ...\\n).\",\"logger_name\":\"c.d.c.p.a.s.c.CommandSubmissionServiceImpl:participant=participant\",\"thread_name\":\"canton-env-ec-97\",\"level\":\"INFO\",\"level_value\":20000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:26 {\"@timestamp\":\"2025-04-09T14:16:26.300Z\",\"@version\":\"1\",\"message\":\"Submitted commands are: 'create IBTC.SimpleContract:SimpleContract'\",\"logger_name\":\"c.d.c.p.a.s.c.CommandSubmissionServiceImpl:participant=participant\",\"thread_name\":\"canton-env-ec-97\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.003Z\",\"@version\":\"1\",\"message\":\"Received submit-transaction someCommandId1 from ledger-api server\",\"logger_name\":\"c.d.c.p.s.CantonSyncService:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.242Z\",\"@version\":\"1\",\"message\":\"Querying transactions as of 2025-04-09T14:13:34.570945Z for types Set(PartyToParticipant, DomainTrustCertificate) with filters for uids alice::12204540ca41...; op Replace\",\"logger_name\":\"c.d.c.t.s.d.DbTopologyStore:participant=participant\/domainId=global-domain::122043b259fa\",\"thread_name\":\"canton-env-ec-84\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.255Z\",\"@version\":\"1\",\"message\":\"Querying transactions as of 2025-04-09T14:13:34.570945Z for types Set(DomainParametersState) with filters for op Replace\",\"logger_name\":\"c.d.c.t.s.d.DbTopologyStore:participant=participant\/domainId=global-domain::122043b259fa\",\"thread_name\":\"canton-env-ec-97\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.261Z\",\"@version\":\"1\",\"message\":\"Querying transactions as of 2025-04-09T14:13:34.570945Z for types Set(DomainTrustCertificate, OwnerToKeyMapping, ParticipantDomainPermission) with filters for uids sv::12204540ca41...; op Replace\",\"logger_name\":\"c.d.c.t.s.d.DbTopologyStore:participant=participant\/domainId=global-domain::122043b259fa\",\"thread_name\":\"canton-env-ec-97\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.271Z\",\"@version\":\"1\",\"message\":\"Topology queried for the following domains: Set(global-domain::122043b259fa...)\",\"logger_name\":\"c.d.c.p.p.s.r.AdmissibleDomains:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.274Z\",\"@version\":\"1\",\"message\":\"Domains with all submitters: Set(global-domain::122043b259fa...)\",\"logger_name\":\"c.d.c.p.p.s.r.AdmissibleDomains:participant=participant\",\"thread_name\":\"canton-env-ec-84\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.274Z\",\"@version\":\"1\",\"message\":\"Domains with all informees: Set(global-domain::122043b259fa...)\",\"logger_name\":\"c.d.c.p.p.s.r.AdmissibleDomains:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.275Z\",\"@version\":\"1\",\"message\":\"Checking whether one domain in Set(global-domain::122043b259fa...) is suitable for submission\",\"logger_name\":\"c.d.c.p.p.s.r.AdmissibleDomains:participant=participant\",\"thread_name\":\"canton-env-ec-84\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.275Z\",\"@version\":\"1\",\"message\":\"Cannot use domain global-domain::122043b259fa...: Map(unknown submitters -> Set(alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c), incorrect permissions -> List())\",\"logger_name\":\"c.d.c.p.p.s.r.AdmissibleDomains:participant=participant\",\"thread_name\":\"canton-env-ec-84\",\"level\":\"DEBUG\",\"level_value\":10000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.278Z\",\"@version\":\"1\",\"message\":\"NO_DOMAIN_ON_WHICH_ALL_SUBMITTERS_CAN_SUBMIT(11,13c4737a): This participant cannot submit as the given submitter on any connected domain\",\"logger_name\":\"c.d.c.p.s.CantonSyncService:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"INFO\",\"level_value\":20000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\",\"location\":\"AdmissibleDomains.scala:212\",\"applicationId\":\"someId\",\"error-code\":\"NO_DOMAIN_ON_WHICH_ALL_SUBMITTERS_CAN_SUBMIT(11,13c4737a)\",\"commandId\":\"someCommandId1\",\"participant\":\"participant\",\"unknownSubmitter\":\"alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.333Z\",\"@version\":\"1\",\"message\":\"Rejected: Submission failed with error NO_DOMAIN_ON_WHICH_ALL_SUBMITTERS_CAN_SUBMIT(11,13c4737a): This participant cannot submit as the given submitter on any connected domain\",\"logger_name\":\"c.d.c.p.a.s.c.CommandSubmissionServiceImpl:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"INFO\",\"level_value\":20000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}\n2025-04-09 16:16:27 {\"@timestamp\":\"2025-04-09T14:16:27.344Z\",\"@version\":\"1\",\"message\":\"Request com.daml.ledger.api.v2.CommandService\/SubmitAndWaitForTransactionTree by \/[0:0:0:0:0:0:0:1]:43452: failed with NOT_FOUND\/NO_DOMAIN_ON_WHICH_ALL_SUBMITTERS_CAN_SUBMIT(11,13c4737a): This participant cannot submit as the given submitter on any connected domain\",\"logger_name\":\"c.d.c.n.g.ApiRequestLogger:participant=participant\",\"thread_name\":\"canton-env-ec-27\",\"level\":\"INFO\",\"level_value\":20000,\"trace-id\":\"13c4737a9ada35b2420d4c464e7ec817\"}"
                            }
                        ],
                        "border": 0
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744208639.883139",
        "client_msg_id": "fcbffd84-6f25-4cbc-9c74-e4c62f653e33",
        "text": "I also added an `applicationId`, after a previous error about auth... but I actually don't see this field in the openapi spec.\nI think i need to do some more reading on domains, parties haha",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744207399.339299",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "W3HTT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I also added an "
                            },
                            {
                                "type": "text",
                                "text": "applicationId",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ", after a previous error about auth... but I actually don't see this field in the openapi spec.\nI think i need to do some more reading on domains, parties haha"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744208673.302939",
        "edited": {
            "user": "U088UV6MKFE",
            "ts": "1744208684.000000"
        },
        "client_msg_id": "b891bc59-be08-496e-aa71-123490326891",
        "text": ">  how did you come up with the party id? It seems like it doesn't know about that one.\nI just curled for \/parties",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744207399.339299",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "MX0jA",
                "elements": [
                    {
                        "type": "rich_text_quote",
                        "elements": [
                            {
                                "type": "text",
                                "text": " how did you come up with the party id? It seems like it doesn't know about that one."
                            }
                        ]
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I just curled for \/parties"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744208700.901159",
        "client_msg_id": "b458cf16-3c4a-411e-af5e-811ce132d031",
        "text": "And it has an alice",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744207399.339299",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "c8hww",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "And it has an alice"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744209399.311889",
        "client_msg_id": "14821906-81db-4cd3-96da-2f384c4f7e38",
        "text": "Here is the return of the parties request:\n\n```*[chore\/more-tests][~\/Coding\/dlc-link\/canton\/daml\/simple-contract]$ curl <http:\/\/localhost:7575\/v2\/parties> | jq\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   846  100   846    0     0   3524      0 --:--:-- --:--:-- --:--:--  3525\n{\n  \"partyDetails\": [\n    {\n      \"party\": \"DSO::122043b259fa42b4b0ffcb32daef1137d07772951131b93d6a3ee2ca9a169e49b7e0\",\n      \"displayName\": \"\",\n      \"isLocal\": false,\n      \"localMetadata\": {\n        \"resourceVersion\": \"\",\n        \"annotations\": {}\n      },\n      \"identityProviderId\": \"\"\n    },\n    {\n      \"party\": \"alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c\",\n      \"displayName\": \"\",\n      \"isLocal\": false,\n      \"localMetadata\": {\n        \"resourceVersion\": \"\",\n        \"annotations\": {}\n      },\n      \"identityProviderId\": \"\"\n    },\n    {\n      \"party\": \"ibtc-validator-1::12202dd2ecf2767decd835acfe89adc0566a40c200f5120a6be102a0f2c4c5c338b5\",\n      \"displayName\": \"\",\n      \"isLocal\": true,\n      \"localMetadata\": {\n        \"resourceVersion\": \"\",\n        \"annotations\": {}\n      },\n      \"identityProviderId\": \"\"\n    },\n    {\n      \"party\": \"sv::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c\",\n      \"displayName\": \"\",\n      \"isLocal\": false,\n      \"localMetadata\": {\n        \"resourceVersion\": \"\",\n        \"annotations\": {}\n      },\n      \"identityProviderId\": \"\"\n    }\n  ],\n  \"nextPageToken\": \"\"\n}```\nI admit I didnt consider the isLocal field, could that be the problem?",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744207399.339299",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "luwLT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Here is the return of the parties request:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "*[chore\/more-tests][~\/Coding\/dlc-link\/canton\/daml\/simple-contract]$ curl "
                            },
                            {
                                "type": "link",
                                "url": "http:\/\/localhost:7575\/v2\/parties"
                            },
                            {
                                "type": "text",
                                "text": " | jq\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   846  100   846    0     0   3524      0 --:--:-- --:--:-- --:--:--  3525\n{\n  \"partyDetails\": [\n    {\n      \"party\": \"DSO::122043b259fa42b4b0ffcb32daef1137d07772951131b93d6a3ee2ca9a169e49b7e0\",\n      \"displayName\": \"\",\n      \"isLocal\": false,\n      \"localMetadata\": {\n        \"resourceVersion\": \"\",\n        \"annotations\": {}\n      },\n      \"identityProviderId\": \"\"\n    },\n    {\n      \"party\": \"alice::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c\",\n      \"displayName\": \"\",\n      \"isLocal\": false,\n      \"localMetadata\": {\n        \"resourceVersion\": \"\",\n        \"annotations\": {}\n      },\n      \"identityProviderId\": \"\"\n    },\n    {\n      \"party\": \"ibtc-validator-1::12202dd2ecf2767decd835acfe89adc0566a40c200f5120a6be102a0f2c4c5c338b5\",\n      \"displayName\": \"\",\n      \"isLocal\": true,\n      \"localMetadata\": {\n        \"resourceVersion\": \"\",\n        \"annotations\": {}\n      },\n      \"identityProviderId\": \"\"\n    },\n    {\n      \"party\": \"sv::12204540ca4172accbf7296c286e9c2b0375fb32135756aec848c7f9732cbefcb13c\",\n      \"displayName\": \"\",\n      \"isLocal\": false,\n      \"localMetadata\": {\n        \"resourceVersion\": \"\",\n        \"annotations\": {}\n      },\n      \"identityProviderId\": \"\"\n    }\n  ],\n  \"nextPageToken\": \"\"\n}"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "I admit I didnt consider the isLocal field, could that be the problem?"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744209926.697539",
        "client_msg_id": "eaf3d758-85e9-4583-a59a-a6a680164c12",
        "text": "Sorry if this is messy, I will say the docs are not super easy to parse haha",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744207399.339299",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "NRWa+",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Sorry if this is messy, I will say the docs are not super easy to parse haha"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1744209965.852089",
        "client_msg_id": "3fd202a2-e57a-4827-a150-5515316ae6c1",
        "text": "But okay I removed the applicationId field, then I get:\n``` \"code\": \"INVALID_TOKEN\",\n    \"cause\": \"The submitted request is missing a user-id: Cannot default application_id field because claims do not specify an application-id or user-id. Is authentication turned on?\",```\nSo I should probably deal with this instead",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1744207399.339299",
        "parent_user_id": "U088UV6MKFE",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "yGhXN",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "But okay I removed the applicationId field, then I get:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": " \"code\": \"INVALID_TOKEN\",\n    \"cause\": \"The submitted request is missing a user-id: Cannot default application_id field because claims do not specify an application-id or user-id. Is authentication turned on?\","
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "So I should probably deal with this instead"
                            }
                        ]
                    }
                ]
            }
        ]
    }
]