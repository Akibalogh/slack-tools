[
    {
        "user": "U08987JD1J9",
        "type": "message",
        "ts": "1755241811.491279",
        "client_msg_id": "d110e558-be48-44fd-8018-8a61ddffabae",
        "text": "thank you <@U0PQ8E25D>\n\nI was able to perform a transfer offer to external wallet using token standard.\n\nWas able to query active contracts to find pending offer for the external party, and finally get the choice context and accept through token standard API.\n\nIt's a big improvement and way easiser to use compare with the legacy cc api.\n\nThank you.",
        "team": "T05FWTX7PMG",
        "user_team": "T08987C1Q77",
        "source_team": "T08987C1Q77",
        "user_profile": {
            "avatar_hash": "99a85730a5ad",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-02-05\/8402823361586_99a85730a5ad57176e25_72.png",
            "first_name": "Vinh",
            "real_name": "Vinh",
            "display_name": "Vinh",
            "team": "T08987C1Q77",
            "name": "vinh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755018657.162789",
        "parent_user_id": "U08987JD1J9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "1PL91",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thank you "
                            },
                            {
                                "type": "user",
                                "user_id": "U0PQ8E25D"
                            },
                            {
                                "type": "text",
                                "text": "\n\nI was able to perform a transfer offer to external wallet using token standard.\n\nWas able to query active contracts to find pending offer for the external party, and finally get the choice context and accept through token standard API.\n\nIt's a big improvement and way easiser to use compare with the legacy cc api.\n\nThank you."
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        },
        "reactions": [
            {
                "name": "partyparrot",
                "users": [
                    "UEHLS0JUB",
                    "U0PQ8E25D",
                    "U03HMUTQ5F0",
                    "U03T5DH1L"
                ],
                "count": 4
            }
        ]
    },
    {
        "user": "U02KJ7PKHN2",
        "type": "message",
        "ts": "1755242259.208779",
        "client_msg_id": "3d8ac653-6560-45ed-a380-3f4b755db435",
        "text": "Hi Ryan!\n\nFor a Utility token, the token standard URL prefix depends on the instrument admin whose allocation factory you'd like to use.\n\nFormat:\n\n```https:\/\/&lt;base-URL&gt;\/api\/token-standard\/v0\/registrars\/&lt;instrument-admin&gt;\/registry\/allocation-instruction\/v1\/allocation-factory```\n",
        "team": "T05FWTX7PMG",
        "user_team": "T03T53E10",
        "source_team": "T03T53E10",
        "user_profile": {
            "avatar_hash": "4e78a4bb88b1",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-11-01\/2671109471619_4e78a4bb88b1d5b788a8_72.jpg",
            "first_name": "Matteo",
            "real_name": "Matteo Limberto",
            "display_name": "Matteo Limberto",
            "team": "T03T53E10",
            "name": "matteo.limberto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755205384.055029",
        "parent_user_id": "U047SRHJQ5T",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JsZL9",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi Ryan!\n\nFor a Utility token, the token standard URL prefix depends on the instrument admin whose allocation factory you'd like to use.\n\nFormat:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "https:\/\/<base-URL>\/api\/token-standard\/v0\/registrars\/<instrument-admin>\/registry\/allocation-instruction\/v1\/allocation-factory"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U02KJ7PKHN2",
        "type": "message",
        "ts": "1755242299.565219",
        "client_msg_id": "4f60b775-4644-4f3a-827d-c86a448c70c6",
        "text": "You can find the list of base URLs depending on the environment you are targeting <https:\/\/docs.digitalasset.com\/utilities\/0.7\/releases\/#id6|here>",
        "team": "T05FWTX7PMG",
        "user_team": "T03T53E10",
        "source_team": "T03T53E10",
        "user_profile": {
            "avatar_hash": "4e78a4bb88b1",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-11-01\/2671109471619_4e78a4bb88b1d5b788a8_72.jpg",
            "first_name": "Matteo",
            "real_name": "Matteo Limberto",
            "display_name": "Matteo Limberto",
            "team": "T03T53E10",
            "name": "matteo.limberto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755205384.055029",
        "parent_user_id": "U047SRHJQ5T",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "3aWLt",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "You can find the list of base URLs depending on the environment you are targeting "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/docs.digitalasset.com\/utilities\/0.7\/releases\/#id6",
                                "text": "here"
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U02KJ7PKHN2",
        "type": "message",
        "ts": "1755242414.292499",
        "client_msg_id": "ad509908-81fd-4b4f-9afd-08f3f0d90b5c",
        "text": "For my understanding, are you guys working on developing a wallet solution? I'd expect asset allocation to happen either via the Utility UI or via token-standard compliant wallets.",
        "team": "T05FWTX7PMG",
        "user_team": "T03T53E10",
        "source_team": "T03T53E10",
        "user_profile": {
            "avatar_hash": "4e78a4bb88b1",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-11-01\/2671109471619_4e78a4bb88b1d5b788a8_72.jpg",
            "first_name": "Matteo",
            "real_name": "Matteo Limberto",
            "display_name": "Matteo Limberto",
            "team": "T03T53E10",
            "name": "matteo.limberto",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755205384.055029",
        "parent_user_id": "U047SRHJQ5T",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "7vngq",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "For my understanding, are you guys working on developing a wallet solution? I'd expect asset allocation to happen either via the Utility UI or via token-standard compliant wallets."
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U08987JD1J9",
        "type": "message",
        "ts": "1755242622.519199",
        "client_msg_id": "bf31dba9-598f-4e67-bc59-baf850e8f94c",
        "text": "Is it expected that an external party that is onboard directly through the ledger api, can send and receive token with token standard, but when calling the validator api `api\/validator\/v0\/admin\/external-party\/balance` for this party, the validator returns\n\n```{\n  \"error\": \"No wallet for external party ...\"\n}```\n",
        "team": "T05FWTX7PMG",
        "user_team": "T08987C1Q77",
        "source_team": "T08987C1Q77",
        "user_profile": {
            "avatar_hash": "99a85730a5ad",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-02-05\/8402823361586_99a85730a5ad57176e25_72.png",
            "first_name": "Vinh",
            "real_name": "Vinh",
            "display_name": "Vinh",
            "team": "T08987C1Q77",
            "name": "vinh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755242622.519199",
        "reply_count": 4,
        "reply_users_count": 3,
        "latest_reply": "1755276695.460079",
        "reply_users": [
            "UEHLS0JUB",
            "U08987JD1J9",
            "U0PQ8E25D"
        ],
        "replies": [
            {
                "user": "UEHLS0JUB",
                "ts": "1755243035.222759"
            },
            {
                "user": "U08987JD1J9",
                "ts": "1755244157.271179"
            },
            {
                "user": "U0PQ8E25D",
                "ts": "1755258365.056089"
            },
            {
                "user": "U08987JD1J9",
                "ts": "1755276695.460079"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "PVMyQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Is it expected that an external party that is onboard directly through the ledger api, can send and receive token with token standard, but when calling the validator api "
                            },
                            {
                                "type": "text",
                                "text": "api\/validator\/v0\/admin\/external-party\/balance",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " for this party, the validator returns\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "{\n  \"error\": \"No wallet for external party ...\"\n}"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": []
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "UEHLS0JUB",
        "type": "message",
        "ts": "1755243035.222759",
        "client_msg_id": "53cc8658-3719-44ef-90ef-92a284c237c2",
        "text": "Yes, the validator APIs currently depend on the validator right contracts. See also <https:\/\/hyperledger-labs.github.io\/splice\/scalability\/scalability.html> which has some related details.",
        "team": "T05FWTX7PMG",
        "user_team": "T03T53E10",
        "source_team": "T03T53E10",
        "user_profile": {
            "avatar_hash": "b0027c1735a1",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-09-14\/762628454406_b0027c1735a1db92fbe4_72.jpg",
            "first_name": "Moritz",
            "real_name": "Moritz Kiefer",
            "display_name": "Aunt Moritz",
            "team": "T03T53E10",
            "name": "moritz.kiefer",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755242622.519199",
        "parent_user_id": "U08987JD1J9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "e14G4",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Yes, the validator APIs currently depend on the validator right contracts. See also "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/hyperledger-labs.github.io\/splice\/scalability\/scalability.html"
                            },
                            {
                                "type": "text",
                                "text": " which has some related details."
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        },
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U08987JD1J9"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U08987JD1J9",
        "type": "message",
        "ts": "1755244157.271179",
        "client_msg_id": "6d1b7fce-a9a4-4d5a-a14e-51dbbfa94232",
        "text": "thank you for confirmation Moritz. Yes, per that document I purposely not using the `\/v0\/admin\/external-party\/setup-proposal` for this reason and just do on the ledger api on participant instead",
        "team": "T05FWTX7PMG",
        "user_team": "T08987C1Q77",
        "source_team": "T08987C1Q77",
        "user_profile": {
            "avatar_hash": "99a85730a5ad",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-02-05\/8402823361586_99a85730a5ad57176e25_72.png",
            "first_name": "Vinh",
            "real_name": "Vinh",
            "display_name": "Vinh",
            "team": "T08987C1Q77",
            "name": "vinh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755242622.519199",
        "parent_user_id": "U08987JD1J9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "x\/z\/e",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "thank you for confirmation Moritz. Yes, per that document I purposely not using the "
                            },
                            {
                                "type": "text",
                                "text": "\/v0\/admin\/external-party\/setup-proposal",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " for this reason and just do on the ledger api on participant instead"
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U08987JD1J9",
        "type": "message",
        "ts": "1755247212.829089",
        "client_msg_id": "f4cd5648-6d50-4ed3-8c16-809a2d838704",
        "text": "When using `#splice-api-token-holding-v1:Splice.Api.Token.HoldingV1:Holding` to find holding of a party. The CC value does't match with what I have on the wallet ui of the validator.\n\nExample, my wallet right now:\n\n```\"viewValue\": {\n                \"owner\": \"fivenorth-devnet-1::12208c929c3f012c663323ed675b2eaea7d7c6e1a9be35d6b20bc39f311c6aa7cc54\",\n                \"instrumentId\": {\n                  \"admin\": \"DSO::1220be58c29e65de40bf273be1dc2b266d43a9a002ea5b18955aeef7aac881bb471a\",\n                  \"id\": \"Amulet\"\n                },\n                \"amount\": \"1372210.5294179978\",\n                \"lock\": null,\n                \"meta\": {\n                  \"values\": {\n                    \"<http:\/\/amulet.splice.lfdecentralizedtrust.org\/created-in-round|amulet.splice.lfdecentralizedtrust.org\/created-in-round>\": \"6105\",\n                    \"<http:\/\/amulet.splice.lfdecentralizedtrust.org\/rate-per-round|amulet.splice.lfdecentralizedtrust.org\/rate-per-round>\": \"0.000380518\"\n                  }```\nWhere as on validator UI it's showing `1,373,865.9306794424`\n\nWhy is there this difference and which one will be the correct one ?",
        "team": "T05FWTX7PMG",
        "user_team": "T08987C1Q77",
        "source_team": "T08987C1Q77",
        "user_profile": {
            "avatar_hash": "99a85730a5ad",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-02-05\/8402823361586_99a85730a5ad57176e25_72.png",
            "first_name": "Vinh",
            "real_name": "Vinh",
            "display_name": "Vinh",
            "team": "T08987C1Q77",
            "name": "vinh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755247212.829089",
        "reply_count": 2,
        "reply_users_count": 1,
        "latest_reply": "1755258493.778519",
        "reply_users": [
            "U0PQ8E25D"
        ],
        "replies": [
            {
                "user": "U0PQ8E25D",
                "ts": "1755258456.836709"
            },
            {
                "user": "U0PQ8E25D",
                "ts": "1755258493.778519"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "sF\/k5",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "When using "
                            },
                            {
                                "type": "text",
                                "text": "#splice-api-token-holding-v1:Splice.Api.Token.HoldingV1:Holding",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to find holding of a party. The CC value does't match with what I have on the wallet ui of the validator.\n\nExample, my wallet right now:\n\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\"viewValue\": {\n                \"owner\": \"fivenorth-devnet-1::12208c929c3f012c663323ed675b2eaea7d7c6e1a9be35d6b20bc39f311c6aa7cc54\",\n                \"instrumentId\": {\n                  \"admin\": \"DSO::1220be58c29e65de40bf273be1dc2b266d43a9a002ea5b18955aeef7aac881bb471a\",\n                  \"id\": \"Amulet\"\n                },\n                \"amount\": \"1372210.5294179978\",\n                \"lock\": null,\n                \"meta\": {\n                  \"values\": {\n                    \"amulet.splice.lfdecentralizedtrust.org\/created-in-round\": \"6105\",\n                    \"amulet.splice.lfdecentralizedtrust.org\/rate-per-round\": \"0.000380518\"\n                  }"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nWhere as on validator UI it's showing "
                            },
                            {
                                "type": "text",
                                "text": "1,373,865.9306794424",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\nWhy is there this difference and which one will be the correct one ?"
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U081VQ5TGU9",
        "type": "message",
        "ts": "1755250454.810399",
        "edited": {
            "user": "U081VQ5TGU9",
            "ts": "1755250472.000000"
        },
        "client_msg_id": "eb8c25d0-9da3-45e3-9e8c-f7fcda45b190",
        "text": "Hello team, Speaking of scalability (<https:\/\/hyperledger-labs.github.io\/splice\/scalability\/scalability.html>) it is not clear what happens if we exceed the 200 client limit, the node does not guarantee the processing speed or the remaining clients will not be processed at all? This is about extending pre-approval and processing incoming transfers (execute transfer command).",
        "team": "T05FWTX7PMG",
        "user_team": "T081GQKGU6P",
        "source_team": "T081GQKGU6P",
        "user_profile": {
            "avatar_hash": "3a5e8b67f872",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-11-21\/8059209534997_3a5e8b67f872bb748fc3_72.png",
            "first_name": "Nikolay",
            "real_name": "Nikolay Ermolaev",
            "display_name": "Nikolay Ermolaev",
            "team": "T081GQKGU6P",
            "name": "horus.24r",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755250454.810399",
        "reply_count": 2,
        "reply_users_count": 2,
        "latest_reply": "1755252014.795759",
        "reply_users": [
            "UEHLS0JUB",
            "U081VQ5TGU9"
        ],
        "replies": [
            {
                "user": "UEHLS0JUB",
                "ts": "1755251614.785629"
            },
            {
                "user": "U081VQ5TGU9",
                "ts": "1755252014.795759"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "OnZmF",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hello team, Speaking of scalability ("
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/hyperledger-labs.github.io\/splice\/scalability\/scalability.html"
                            },
                            {
                                "type": "text",
                                "text": ") it is not clear what happens if we exceed the 200 client limit, the node does not guarantee the processing speed or the remaining clients will not be processed at all? This is about extending pre-approval and processing incoming transfers (execute transfer command)."
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U047SRHJQ5T",
        "type": "message",
        "ts": "1755250792.098269",
        "client_msg_id": "de4c7403-ca48-42cc-8ef9-e2a8f7063766",
        "text": "<@U02KJ7PKHN2> Awesome, thanks!  That's very helpful.  I tried it and got a 500:\n`curl <https:\/\/api.utilities.digitalasset-dev.com\/api\/token-standard\/v0\/registrars\/ObsidianSystems-validator-6::1220b8b7cfcc7e607c5aa967a880ef39c65543a617895aab20c0fe89ed5608d19edf\/registry\/allocation-instruction\/v1\/allocation-factory> -H 'Content-Type: application\/json' -d '{\"choiceArguments\":{}}' -D -`",
        "team": "T05FWTX7PMG",
        "user_team": "T02GGGURARK",
        "source_team": "T02GGGURARK",
        "user_profile": {
            "avatar_hash": "gc547e35a01a",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/c547e35a01a31d4b28cf33d79587f9e4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "Ryan",
            "real_name": "Ryan Trinkle",
            "display_name": "Ryan Trinkle",
            "team": "T02GGGURARK",
            "name": "ryan.trinkle",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755205384.055029",
        "parent_user_id": "U047SRHJQ5T",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "pWLFK",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U02KJ7PKHN2"
                            },
                            {
                                "type": "text",
                                "text": " Awesome, thanks!  That's very helpful.  I tried it and got a 500:\n"
                            },
                            {
                                "type": "text",
                                "text": "curl ",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/api.utilities.digitalasset-dev.com\/api\/token-standard\/v0\/registrars\/ObsidianSystems-validator-6::1220b8b7cfcc7e607c5aa967a880ef39c65543a617895aab20c0fe89ed5608d19edf\/registry\/allocation-instruction\/v1\/allocation-factory",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " -H 'Content-Type: application\/json' -d '{\"choiceArguments\":{}}' -D -",
                                "style": {
                                    "code": true
                                }
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U047SRHJQ5T",
        "type": "message",
        "ts": "1755250851.319229",
        "client_msg_id": "17ed4d4e-50d0-4c93-b17e-8555cd333745",
        "text": "Oh, I guess the utility actually cares about the arguments; the CC scanner doesn't seem to",
        "team": "T05FWTX7PMG",
        "user_team": "T02GGGURARK",
        "source_team": "T02GGGURARK",
        "user_profile": {
            "avatar_hash": "gc547e35a01a",
            "image_72": "https:\/\/secure.gravatar.com\/avatar\/c547e35a01a31d4b28cf33d79587f9e4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2Fdf10d%2Fimg%2Favatars%2Fava_0023-72.png",
            "first_name": "Ryan",
            "real_name": "Ryan Trinkle",
            "display_name": "Ryan Trinkle",
            "team": "T02GGGURARK",
            "name": "ryan.trinkle",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755205384.055029",
        "parent_user_id": "U047SRHJQ5T",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "VqnZT",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Oh, I guess the utility actually cares about the arguments; the CC scanner doesn't seem to"
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "UEHLS0JUB",
        "type": "message",
        "ts": "1755251614.785629",
        "client_msg_id": "d5f2bc3d-f095-4bc6-9ddd-685fb1962e82",
        "text": "The node will get overloaded and slow down and eventually fully stop functioning.",
        "team": "T05FWTX7PMG",
        "user_team": "T03T53E10",
        "source_team": "T03T53E10",
        "user_profile": {
            "avatar_hash": "b0027c1735a1",
            "image_72": "https:\/\/avatars.slack-edge.com\/2019-09-14\/762628454406_b0027c1735a1db92fbe4_72.jpg",
            "first_name": "Moritz",
            "real_name": "Moritz Kiefer",
            "display_name": "Aunt Moritz",
            "team": "T03T53E10",
            "name": "moritz.kiefer",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755250454.810399",
        "parent_user_id": "U081VQ5TGU9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "E9ZJB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The node will get overloaded and slow down and eventually fully stop functioning."
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U081VQ5TGU9",
        "type": "message",
        "ts": "1755252014.795759",
        "client_msg_id": "b0b7f1c8-c11b-4512-873f-2bdae01f1e15",
        "text": "It doesn't sound very good, in fact, there is a degradation of processes, there is some possibility to unload the node in the future, for example, to disable renew for pre-approval, and after some time all our external wallets will stop creating additional load, if I understand correctly.",
        "team": "T05FWTX7PMG",
        "user_team": "T081GQKGU6P",
        "source_team": "T081GQKGU6P",
        "user_profile": {
            "avatar_hash": "3a5e8b67f872",
            "image_72": "https:\/\/avatars.slack-edge.com\/2024-11-21\/8059209534997_3a5e8b67f872bb748fc3_72.png",
            "first_name": "Nikolay",
            "real_name": "Nikolay Ermolaev",
            "display_name": "Nikolay Ermolaev",
            "team": "T081GQKGU6P",
            "name": "horus.24r",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755250454.810399",
        "parent_user_id": "U081VQ5TGU9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "uUCYB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "It doesn't sound very good, in fact, there is a degradation of processes, there is some possibility to unload the node in the future, for example, to disable renew for pre-approval, and after some time all our external wallets will stop creating additional load, if I understand correctly."
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U0PQ8E25D",
        "type": "message",
        "ts": "1755258365.056089",
        "client_msg_id": "8ae373a8-d4b3-4cf6-bda2-149a5bd6b9c1",
        "text": "<@U08987JD1J9>: also note that these balance functions are CC specific.\n\nThe token standard way is to query the ACS via an interface filter for `Holding` (code sample reference from here: <https:\/\/github.com\/hyperledger-labs\/splice\/tree\/main\/token-standard#list-holdings>) and sum up the holding contracts.\n\nThis works uniformly for all assets.",
        "team": "T05FWTX7PMG",
        "user_team": "T03T53E10",
        "source_team": "T03T53E10",
        "user_profile": {
            "avatar_hash": "c6facf15dae2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-03-25\/1906342699428_c6facf15dae249470e71_72.jpg",
            "first_name": "Simon",
            "real_name": "Simon Meier",
            "display_name": "simon",
            "team": "T03T53E10",
            "name": "simon",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755242622.519199",
        "parent_user_id": "U08987JD1J9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "lzXfQ",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "user",
                                "user_id": "U08987JD1J9"
                            },
                            {
                                "type": "text",
                                "text": ": also note that these balance functions are CC specific.\n\nThe token standard way is to query the ACS via an interface filter for "
                            },
                            {
                                "type": "text",
                                "text": "Holding",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " (code sample reference from here: "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/hyperledger-labs\/splice\/tree\/main\/token-standard#list-holdings"
                            },
                            {
                                "type": "text",
                                "text": ") and sum up the holding contracts.\n\nThis works uniformly for all assets."
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        },
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U08987JD1J9"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U0PQ8E25D",
        "type": "message",
        "ts": "1755258456.836709",
        "client_msg_id": "26389a5b-dbc8-4fe4-a414-44987e845062",
        "text": "The difference doesn't match because the splice UI previews the subtraction of holding fees.\n\nI'm currently working on a CIP that proposes to remove CC fees (incl. holding fees charged as part of transfers). The sum you get from summing the holdings will be the right one once that CIP went through.",
        "team": "T05FWTX7PMG",
        "user_team": "T03T53E10",
        "source_team": "T03T53E10",
        "user_profile": {
            "avatar_hash": "c6facf15dae2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-03-25\/1906342699428_c6facf15dae249470e71_72.jpg",
            "first_name": "Simon",
            "real_name": "Simon Meier",
            "display_name": "simon",
            "team": "T03T53E10",
            "name": "simon",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755247212.829089",
        "parent_user_id": "U08987JD1J9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "hrnsm",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "The difference doesn't match because the splice UI previews the subtraction of holding fees.\n\nI'm currently working on a CIP that proposes to remove CC fees (incl. holding fees charged as part of transfers). The sum you get from summing the holdings will be the right one once that CIP went through."
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        },
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U08987JD1J9"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U0PQ8E25D",
        "type": "message",
        "ts": "1755258493.778519",
        "edited": {
            "user": "U0PQ8E25D",
            "ts": "1755258505.000000"
        },
        "client_msg_id": "44216200-c2b0-4c9b-90e6-cfe986a619e1",
        "text": "Draft of it here (please ignore the rationale part, which is WIP): <https:\/\/github.com\/meiersi-da\/cips\/pull\/2\/files#diff-af1d2dffdfa2f5b10959cebba5303510998426b9a90aa003683d3d962a3c4a1dR98>",
        "team": "T05FWTX7PMG",
        "user_team": "T03T53E10",
        "source_team": "T03T53E10",
        "user_profile": {
            "avatar_hash": "c6facf15dae2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-03-25\/1906342699428_c6facf15dae249470e71_72.jpg",
            "first_name": "Simon",
            "real_name": "Simon Meier",
            "display_name": "simon",
            "team": "T03T53E10",
            "name": "simon",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755247212.829089",
        "parent_user_id": "U08987JD1J9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "w8YTu",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Draft of it here (please ignore the rationale part, which is WIP): "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/meiersi-da\/cips\/pull\/2\/files#diff-af1d2dffdfa2f5b10959cebba5303510998426b9a90aa003683d3d962a3c4a1dR98"
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        },
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U05FU0HPZ9T"
                ],
                "count": 1
            },
            {
                "name": "eyes",
                "users": [
                    "U07ATTEPSLT"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U0PQ8E25D",
        "type": "message",
        "ts": "1755258702.706289",
        "client_msg_id": "0418055f-8ae1-46f4-b91f-eccfa7c0941a",
        "text": "Thanks for the confirmation. Great to hear!",
        "team": "T05FWTX7PMG",
        "user_team": "T03T53E10",
        "source_team": "T03T53E10",
        "user_profile": {
            "avatar_hash": "c6facf15dae2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2021-03-25\/1906342699428_c6facf15dae249470e71_72.jpg",
            "first_name": "Simon",
            "real_name": "Simon Meier",
            "display_name": "simon",
            "team": "T03T53E10",
            "name": "simon",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755018657.162789",
        "parent_user_id": "U08987JD1J9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "LcRFV",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thanks for the confirmation. Great to hear!"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "subtype": "bot_message",
        "text": "*tjakobsen* from *Blockdaemon* was added to this channel by *wayne.collier*. You can review their permissions in Channel Details. Happy collaborating!",
        "user": "USLACKBOT",
        "username": "slackbot",
        "type": "message",
        "ts": "1755262710.454089",
        "team": "T05FWTX7PMG",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "EnFs",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "tjakobsen",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " from "
                            },
                            {
                                "type": "text",
                                "text": "Blockdaemon",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " was added to this channel by "
                            },
                            {
                                "type": "text",
                                "text": "wayne.collier",
                                "style": {
                                    "bold": true
                                }
                            },
                            {
                                "type": "text",
                                "text": ". You can review their permissions in Channel Details. Happy collaborating!"
                            }
                        ]
                    }
                ]
            }
        ],
        "reactions": [
            {
                "name": "eyes",
                "users": [
                    "U062C7J7TNF"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U03PNLM5D7X",
        "type": "message",
        "ts": "1755263752.515029",
        "client_msg_id": "c78e18b1-ed2f-4024-ae3f-3cf4de7b45fc",
        "text": "Question about jwt token for the interactive submission demo [see comments]",
        "team": "T05FWTX7PMG",
        "user_team": "T6M7W6BGQ",
        "source_team": "T6M7W6BGQ",
        "user_profile": {
            "avatar_hash": "e6e5c07d16d7",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-12-20\/4532027686551_e6e5c07d16d7ccec55f6_72.jpg",
            "first_name": "Thomas",
            "real_name": "Thomas Jakobsen",
            "display_name": "tjakobsen",
            "team": "T6M7W6BGQ",
            "name": "tjakobsen",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755263752.515029",
        "reply_count": 4,
        "reply_users_count": 3,
        "latest_reply": "1755611512.480099",
        "reply_users": [
            "U03PNLM5D7X",
            "U088UV6MKFE",
            "U03NCGBFCDP"
        ],
        "replies": [
            {
                "user": "U03PNLM5D7X",
                "ts": "1755263885.849199"
            },
            {
                "user": "U088UV6MKFE",
                "ts": "1755264616.072299"
            },
            {
                "user": "U03NCGBFCDP",
                "ts": "1755264867.874839"
            },
            {
                "user": "U03PNLM5D7X",
                "ts": "1755611512.480099"
            }
        ],
        "is_locked": false,
        "subscribed": false,
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "iBjGY",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Question about jwt token for the interactive submission demo [see comments]"
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U03PNLM5D7X",
        "type": "message",
        "ts": "1755263885.849199",
        "edited": {
            "user": "U03PNLM5D7X",
            "ts": "1755264133.000000"
        },
        "client_msg_id": "7ab15fbd-6cf8-4d4a-a9f8-cbefaeec8ac7",
        "text": "Hello.\nI’m new to Canton and trying to run the “interactive-submission” Python demo (<https:\/\/github.com\/digital-asset\/canton\/tree\/release-line-3.3\/community\/app\/src\/pack\/examples\/08-interactive-submission>) to quickly test out external signing.\nI installed Canton localnet via this guide: <https:\/\/docs.digitalasset.com\/build\/3.3\/quickstart\/download\/cnqs-installation.html>.\n\nI first do:\n```lapi_channel = grpc.insecure_channel(f\"localhost:4901\")\nadmin_channel = grpc.insecure_channel(f\"localhost:4902\")\nauto_accept = True\nsynchronizer_id = \"global-domain::1220a1c9e0b7d9b4d2b3112113de30db63debe8f7f2ad9fff093d10cf15d4f287afe\"\nparticipant_id = \"sv::1220f4ad7c7394b246792fc9f7bfe7cd68748c8be1a2248faf7e32d1b74664149d15\"\nsynchronizer_id = \"global-domain::1220a1c9e0b7d9b4d2b3112113de30db63debe8f7f2ad9fff093d10cf15d4f287afe\"\nparticipant_id = \"sv::1220f4ad7c7394b246792fc9f7bfe7cd68748c8be1a2248faf7e32d1b74664149d15\"\nalice_pk, alice_pub_fingerprint = onboard_external_party(\n      \"alice\", [participant_id], 1, synchronizer_id, admin_channel\n)\nalice = \"alice::\" + alice_pub_fingerprint\nbob_pk, bob_pub_fingerprint = onboard_external_party(\n    \"bob\", [participant_id], 1, synchronizer_id, admin_channel\n)\nbob = \"bob::\" + bob_pub_fingerprint\n# Alice creates the ping contract\nping_created_event = create_ping_contract(\n    alice, alice_pk, alice_pub_fingerprint, bob, synchronizer_id, auto_accept\n)```\nThis lets me onboard Alice and Bob on the sv node.\nBut when I get to “PrepareSubmission” (<https:\/\/github.com\/digital-asset\/canton\/blob\/release-line-3.3\/community\/app\/src\/pack\/examples\/08-interactive-submission\/interactive_submission.py#L255>) I run into trouble.\n\nFirst, I need to modify the example to use a bearer token:\n\t`prepare_create_response = iss_client.PrepareSubmission(`\n\t    `prepare_create_request,`\n\t    `metadata=[('authorization', 'Bearer ' + TOKEN)]`\n\t`)`\n\nIf I use `sv.adminToken` from the Canton console, I get the error “Claims do not authorize to read data for party”.\n\nThen I try to instead generate the jwt token like this:\n\n`def get_token(alice):`\n    `secret = \"unsafe\"  # from sv.conf`\n    `payload = {`\n        `\"aud\": \"<https:\/\/canton.network.global>\",  # match AUTH_SV_AUDIENCE or omit if not used`\n        `\"sub\": alice,`\n        `\"actAs\": [alice],`\n        `\"exp\": datetime.datetime.utcnow() + datetime.timedelta(hours=1)`\n    `}`\n    `token = jwt.encode(payload, secret, algorithm=\"HS256\")`\n    `return token`\n`TOKEN = get_token(alice)`\n\nBut this results in:\n\n   `{\"@timestamp\":\"2025-08-15T12:38:29.660Z\",\"@version\":\"1\",\"message\":\"PERMISSION_DENIED(7,be1aed74): Could not resolve is_deactivated status for user 'alice::12202b0107cc6af1aa7f0159a67c7b57c4f7ef07231f13a179ff7b1c0370a637015c' and identity_provider_id 'Default' due to 'UserNotFound(alice::12202b0107cc6af1aa7f0159a67c7b57c4f7ef07231f13a179ff7b1c0370a637015c)'\",\"logger_name\":\"c.d.c.l.a.a.i.UserBasedAuthInterceptor:participant=sv\",\"thread_name\":\"canton-env-ec-442\",\"level\":\"WARN\",\"level_value\":30000,\"location\":\"UserBasedAuthInterceptor.scala:120\",\"error-code\":\"PERMISSION_DENIED(7,be1aed74)\",\"trace-id\":\"be1aed74ca56673b095b6af5846af9d9\",\"participant\":\"'sv'\"}`\n\nDo anyone know how to resolve this?",
        "team": "T05FWTX7PMG",
        "user_team": "T6M7W6BGQ",
        "source_team": "T6M7W6BGQ",
        "user_profile": {
            "avatar_hash": "e6e5c07d16d7",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-12-20\/4532027686551_e6e5c07d16d7ccec55f6_72.jpg",
            "first_name": "Thomas",
            "real_name": "Thomas Jakobsen",
            "display_name": "tjakobsen",
            "team": "T6M7W6BGQ",
            "name": "tjakobsen",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755263752.515029",
        "parent_user_id": "U03PNLM5D7X",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "eaKis",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hello.\nI’m new to Canton and trying to run the “interactive-submission” Python demo ("
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/digital-asset\/canton\/tree\/release-line-3.3\/community\/app\/src\/pack\/examples\/08-interactive-submission"
                            },
                            {
                                "type": "text",
                                "text": ") to quickly test out external signing.\nI installed Canton localnet via this guide: "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/docs.digitalasset.com\/build\/3.3\/quickstart\/download\/cnqs-installation.html"
                            },
                            {
                                "type": "text",
                                "text": ".\n\nI first do:\n"
                            }
                        ]
                    },
                    {
                        "type": "rich_text_preformatted",
                        "elements": [
                            {
                                "type": "text",
                                "text": "lapi_channel = grpc.insecure_channel(f\"localhost:4901\")\nadmin_channel = grpc.insecure_channel(f\"localhost:4902\")\nauto_accept = True\nsynchronizer_id = \"global-domain::1220a1c9e0b7d9b4d2b3112113de30db63debe8f7f2ad9fff093d10cf15d4f287afe\"\nparticipant_id = \"sv::1220f4ad7c7394b246792fc9f7bfe7cd68748c8be1a2248faf7e32d1b74664149d15\"\nsynchronizer_id = \"global-domain::1220a1c9e0b7d9b4d2b3112113de30db63debe8f7f2ad9fff093d10cf15d4f287afe\"\nparticipant_id = \"sv::1220f4ad7c7394b246792fc9f7bfe7cd68748c8be1a2248faf7e32d1b74664149d15\"\nalice_pk, alice_pub_fingerprint = onboard_external_party(\n      \"alice\", [participant_id], 1, synchronizer_id, admin_channel\n)\nalice = \"alice::\" + alice_pub_fingerprint\nbob_pk, bob_pub_fingerprint = onboard_external_party(\n    \"bob\", [participant_id], 1, synchronizer_id, admin_channel\n)\nbob = \"bob::\" + bob_pub_fingerprint\n# Alice creates the ping contract\nping_created_event = create_ping_contract(\n    alice, alice_pk, alice_pub_fingerprint, bob, synchronizer_id, auto_accept\n)"
                            }
                        ],
                        "border": 0
                    },
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "\nThis lets me onboard Alice and Bob on the sv node.\nBut when I get to “PrepareSubmission” ("
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/github.com\/digital-asset\/canton\/blob\/release-line-3.3\/community\/app\/src\/pack\/examples\/08-interactive-submission\/interactive_submission.py#L255"
                            },
                            {
                                "type": "text",
                                "text": ") I run into trouble.\n\nFirst, I need to modify the example to use a bearer token:\n"
                            },
                            {
                                "type": "text",
                                "text": "\tprepare_create_response = iss_client.PrepareSubmission(",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "\t    prepare_create_request,",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "\t    metadata=[('authorization', 'Bearer ' + TOKEN)]",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "\t)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\nIf I use "
                            },
                            {
                                "type": "text",
                                "text": "sv.adminToken",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " from the Canton console, I get the error “Claims do not authorize to read data for party”.\n\nThen I try to instead generate the jwt token like this:\n\n"
                            },
                            {
                                "type": "text",
                                "text": "def get_token(alice):",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "    secret = \"unsafe\"  # from sv.conf",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "    payload = {",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "        \"aud\": \"",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/canton.network.global",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\",  # match AUTH_SV_AUDIENCE or omit if not used",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "        \"sub\": alice,",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "        \"actAs\": [alice],",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "        \"exp\": datetime.datetime.utcnow() + datetime.timedelta(hours=1)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "    }",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "    token = jwt.encode(payload, secret, algorithm=\"HS256\")",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "    return token",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n"
                            },
                            {
                                "type": "text",
                                "text": "TOKEN = get_token(alice)",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\nBut this results in:\n\n"
                            },
                            {
                                "type": "text",
                                "text": "   {\"@timestamp\":\"2025-08-15T12:38:29.660Z\",\"@version\":\"1\",\"message\":\"PERMISSION_DENIED(7,be1aed74): Could not resolve is_deactivated status for user 'alice::12202b0107cc6af1aa7f0159a67c7b57c4f7ef07231f13a179ff7b1c0370a637015c' and identity_provider_id 'Default' due to 'UserNotFound(alice::12202b0107cc6af1aa7f0159a67c7b57c4f7ef07231f13a179ff7b1c0370a637015c)'\",\"logger_name\":\"c.d.c.l.a.a.i.UserBasedAuthInterceptor:participant=sv\",\"thread_name\":\"canton-env-ec-442\",\"level\":\"WARN\",\"level_value\":30000,\"location\":\"UserBasedAuthInterceptor.scala:120\",\"error-code\":\"PERMISSION_DENIED(7,be1aed74)\",\"trace-id\":\"be1aed74ca56673b095b6af5846af9d9\",\"participant\":\"'sv'\"}",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "\n\nDo anyone know how to resolve this?"
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U088UV6MKFE",
        "type": "message",
        "ts": "1755264616.072299",
        "client_msg_id": "3aca4261-cf59-481a-8279-66ac567dc3b3",
        "text": "One thing I notice, is that you pass in alice as the 'sub' claim: that should be the alice `user` , _not_ the alice `party`.",
        "team": "T05FWTX7PMG",
        "user_team": "T05FWTX7PMG",
        "source_team": "T05FWTX7PMG",
        "user_profile": {
            "avatar_hash": "88f054e6b2e2",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-04-15\/8759384805844_88f054e6b2e25bb0bd26_72.jpg",
            "first_name": "Robert",
            "real_name": "Robert Tera",
            "display_name": "Robert Tera",
            "team": "T05FWTX7PMG",
            "name": "robert",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755263752.515029",
        "parent_user_id": "U03PNLM5D7X",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "JtsJB",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "One thing I notice, is that you pass in alice as the 'sub' claim: that should be the alice "
                            },
                            {
                                "type": "text",
                                "text": "user",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " , "
                            },
                            {
                                "type": "text",
                                "text": "not",
                                "style": {
                                    "italic": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " the alice "
                            },
                            {
                                "type": "text",
                                "text": "party",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": "."
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U03NCGBFCDP",
        "type": "message",
        "ts": "1755264867.874839",
        "client_msg_id": "5e3e8891-fbf3-463f-94bb-fefa5d7beb06",
        "text": "Hey thanks for posting, yes the guide works against a Ledger API without authentication enabled we should point this out in the guide.\n<@U088UV6MKFE> seems to be on the on the right track the `sub` field should point to the ledger API User that needs to be granted actAs scope for your external party.\nYou can find more info about this <https:\/\/docs.digitalasset.com\/build\/3.3\/sdlc-howtos\/applications\/secure\/authorization.html#user-access-tokens|here>",
        "team": "T05FWTX7PMG",
        "user_team": "T03T53E10",
        "source_team": "T03T53E10",
        "user_profile": {
            "avatar_hash": "b8a2dd3941ff",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-07-01\/3748258869187_b8a2dd3941ff99aa9264_72.jpg",
            "first_name": "Thibault",
            "real_name": "Thibault Jeandet",
            "display_name": "Thibault",
            "team": "T03T53E10",
            "name": "thibault.jeandet",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755263752.515029",
        "parent_user_id": "U03PNLM5D7X",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "kwr7n",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hey thanks for posting, yes the guide works against a Ledger API without authentication enabled we should point this out in the guide.\n"
                            },
                            {
                                "type": "user",
                                "user_id": "U088UV6MKFE"
                            },
                            {
                                "type": "text",
                                "text": " seems to be on the on the right track the "
                            },
                            {
                                "type": "text",
                                "text": "sub",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " field should point to the ledger API User that needs to be granted actAs scope for your external party.\nYou can find more info about this "
                            },
                            {
                                "type": "link",
                                "url": "https:\/\/docs.digitalasset.com\/build\/3.3\/sdlc-howtos\/applications\/secure\/authorization.html#user-access-tokens",
                                "text": "here"
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    },
    {
        "user": "U08987JD1J9",
        "type": "message",
        "ts": "1755276695.460079",
        "client_msg_id": "b12727b1-5734-4953-befd-10c2d5c97674",
        "text": "Hi Simon,\n\nYes, we're switching to `Holding` after I realized the 200 limits and re-engineering our external wallet approch (skip setup-proposal, onboard topology directly, skip all pre approval on external party, query `TransferInstriction` to find pending )\n\nYou had also help answer question about Holding balance on my other thread.\n\nAppreciate as always.",
        "team": "T05FWTX7PMG",
        "user_team": "T08987C1Q77",
        "source_team": "T08987C1Q77",
        "user_profile": {
            "avatar_hash": "99a85730a5ad",
            "image_72": "https:\/\/avatars.slack-edge.com\/2025-02-05\/8402823361586_99a85730a5ad57176e25_72.png",
            "first_name": "Vinh",
            "real_name": "Vinh",
            "display_name": "Vinh",
            "team": "T08987C1Q77",
            "name": "vinh",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755242622.519199",
        "parent_user_id": "U08987JD1J9",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "OQx36",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Hi Simon,\n\nYes, we're switching to "
                            },
                            {
                                "type": "text",
                                "text": "Holding",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " after I realized the 200 limits and re-engineering our external wallet approch (skip setup-proposal, onboard topology directly, skip all pre approval on external party, query "
                            },
                            {
                                "type": "text",
                                "text": "TransferInstriction",
                                "style": {
                                    "code": true
                                }
                            },
                            {
                                "type": "text",
                                "text": " to find pending )\n\nYou had also help answer question about Holding balance on my other thread.\n\nAppreciate as always."
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        },
        "reactions": [
            {
                "name": "bow_",
                "users": [
                    "U0PQ8E25D"
                ],
                "count": 1
            }
        ]
    },
    {
        "user": "U04B73XH77Z",
        "type": "message",
        "ts": "1755302020.183529",
        "client_msg_id": "b092b7da-eb1a-423a-b8a6-45f7dde4068e",
        "text": "Thank you, <@U047U17D7KL>. I haven't tried that yet, will do it right now",
        "team": "T05FWTX7PMG",
        "user_team": "E05DZEEPY48",
        "source_team": "E05DZEEPY48",
        "user_profile": {
            "avatar_hash": "b760917a90e8",
            "image_72": "https:\/\/avatars.slack-edge.com\/2022-11-22\/4404602313814_b760917a90e82b5abd99_72.png",
            "first_name": "Carlos Alfredo",
            "real_name": "Carlos Alfredo Flores Falcon",
            "display_name": "carlos.flores",
            "team": "E05DZEEPY48",
            "name": "carlos.flores",
            "is_restricted": false,
            "is_ultra_restricted": false
        },
        "thread_ts": "1755108625.937869",
        "parent_user_id": "U04B73XH77Z",
        "blocks": [
            {
                "type": "rich_text",
                "block_id": "i3pfx",
                "elements": [
                    {
                        "type": "rich_text_section",
                        "elements": [
                            {
                                "type": "text",
                                "text": "Thank you, "
                            },
                            {
                                "type": "user",
                                "user_id": "U047U17D7KL"
                            },
                            {
                                "type": "text",
                                "text": ". I haven't tried that yet, will do it right now"
                            }
                        ]
                    }
                ]
            }
        ],
        "language": {
            "locale": "en",
            "is_reliable": true
        }
    }
]